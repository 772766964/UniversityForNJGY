# Spring Security

## 基本概念

### 什么是认证

如果不想被非法访问页面，就需要认证

### 什么是会话

首次发起请求之后，会产生一个会话，在用户通过认证之后，在服务端生成用户相关的数据保存在session(当前会话)中，发给客户端的sesssion_id存放到cookie中，这样用户客户端请求时带上session_id就可以验证服务器端是否存在session数据，以此完成用户的合法校验，当用户退出系统或session过期销毁时,客户端的session_id也就无效了。

基于token方式如下图：它的交互流程是，用户认证成功后，服务端生成一个token发给客户端，客户端可以放到cookie或localStorage等存储中，每次请求时带上token，服务端收到token通过验证后即可确认用户身份

基于session的认证方式由Servlet规范定制，服务端要存储session信息需要占用内存资源，客户端需要支持cookie；基于token的方式则一般不需要服务端存储token，并且不限制客户端的存储方式。如今移动互联网时代更多类型的客户端需要接入系统，系统多是采用前后端分离的架构进行实现，所以基于token的方式更适合。

### 什么是授权

完成认证的用户，在会话时对拥有的权限进行授权。例如微信朋友圈开启，才可以使用朋友圈功能。

## RBAC

如何实现授权？业界通常基于RBAC实现授权



